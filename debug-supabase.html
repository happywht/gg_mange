<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Supabase è¿æ¥è°ƒè¯•å·¥å…·</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 16px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        .header {
            background: linear-gradient(135deg, #3ecf8e 0%, #2d7a96 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        .header h1 { font-size: 28px; margin-bottom: 10px; }
        .header p { opacity: 0.9; }
        .content { padding: 30px; }
        .section {
            margin-bottom: 30px;
            padding: 20px;
            border-radius: 12px;
            border: 1px solid #e5e7eb;
        }
        .section-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 15px;
            color: #1f2937;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .status-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }
        .status-success { background: #d1fae5; color: #065f46; }
        .status-error { background: #fee2e2; color: #991b1b; }
        .status-warning { background: #fef3c7; color: #92400e; }
        .status-info { background: #dbeafe; color: #1e40af; }
        .form-group { margin-bottom: 15px; }
        .form-group label {
            display: block;
            font-weight: 500;
            margin-bottom: 8px;
            color: #374151;
        }
        .form-group input, .form-group textarea {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            font-size: 14px;
            font-family: 'Consolas', 'Monaco', monospace;
            transition: border-color 0.2s;
        }
        .form-group input:focus, .form-group textarea:focus {
            outline: none;
            border-color: #3ecf8e;
        }
        .form-group textarea {
            min-height: 80px;
            resize: vertical;
        }
        .btn {
            background: linear-gradient(135deg, #3ecf8e 0%, #2d7a96 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(62, 207, 142, 0.4);
        }
        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }
        .btn-secondary {
            background: #6b7280;
        }
        .log-container {
            background: #1f2937;
            color: #f3f4f6;
            border-radius: 8px;
            padding: 15px;
            max-height: 400px;
            overflow-y: auto;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 13px;
            line-height: 1.6;
        }
        .log-entry {
            margin-bottom: 8px;
            padding: 8px;
            border-radius: 4px;
        }
        .log-info { background: rgba(59, 130, 246, 0.2); border-left: 3px solid #3b82f6; }
        .log-success { background: rgba(34, 197, 94, 0.2); border-left: 3px solid #22c55e; }
        .log-error { background: rgba(239, 68, 68, 0.2); border-left: 3px solid #ef4444; }
        .log-warning { background: rgba(245, 158, 11, 0.2); border-left: 3px solid #f59e0b; }
        .log-time { color: #9ca3af; font-size: 11px; }
        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .info-card {
            background: #f9fafb;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #3b82f6;
        }
        .info-card h4 {
            font-size: 14px;
            color: #6b7280;
            margin-bottom: 5px;
        }
        .info-card p {
            font-size: 16px;
            font-weight: 600;
            color: #1f2937;
        }
        @media (max-width: 640px) {
            .grid { grid-template-columns: 1fr; }
        }
        .spinner {
            display: inline-block;
            width: 14px;
            height: 14px;
            border: 2px solid #ffffff;
            border-top-color: transparent;
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
        }
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        .code-block {
            background: #1f2937;
            color: #f3f4f6;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 12px;
            overflow-x: auto;
            white-space: pre-wrap;
            word-break: break-all;
        }
        a { color: #3ecf8e; text-decoration: none; }
        a:hover { text-decoration: underline; }
        code { background: #f3f4f6; padding: 2px 6px; border-radius: 4px; font-family: 'Consolas', 'Monaco', monospace; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ” Supabase è¿æ¥è°ƒè¯•å·¥å…·</h1>
            <p>è¯Šæ–­å’Œä¿®å¤ Supabase é…ç½®é—®é¢˜</p>
        </div>

        <div class="content">
            <!-- é…ç½®çŠ¶æ€æ£€æŸ¥ -->
            <div class="section">
                <div class="section-title">
                    <span>ğŸ“Š</span> å½“å‰é…ç½®çŠ¶æ€
                </div>
                <div class="grid" id="configStatus">
                    <div class="info-card">
                        <h4>Project URL</h4>
                        <p id="urlStatus">æœªé…ç½®</p>
                    </div>
                    <div class="info-card">
                        <h4>Anon Key</h4>
                        <p id="keyStatus">æœªé…ç½®</p>
                    </div>
                    <div class="info-card">
                        <h4>Supabase SDK</h4>
                        <p id="sdkStatus">æœªåŠ è½½</p>
                    </div>
                    <div class="info-card">
                        <h4>å®¢æˆ·ç«¯å®ä¾‹</h4>
                        <p id="clientStatus">æœªåˆ›å»º</p>
                    </div>
                </div>
            </div>

            <!-- é…ç½®è¡¨å• -->
            <div class="section">
                <div class="section-title">
                    <span>âš™ï¸</span> é…ç½® Supabase
                </div>
                <div class="form-group">
                    <label for="supabaseUrl">Project URL</label>
                    <input type="text" id="supabaseUrl" placeholder="https://xxxxxxxxxxxxx.supabase.co" />
                    <small style="color: #6b7280; display: block; margin-top: 5px;">
                        åœ¨ Supabase æ§åˆ¶å°: Project Settings â†’ API â†’ Project URL
                    </small>
                </div>
                <div class="form-group">
                    <label for="supabaseKey">Anon Public Key</label>
                    <textarea id="supabaseKey" placeholder="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."></textarea>
                    <small style="color: #6b7280; display: block; margin-top: 5px;">
                        åœ¨ Supabase æ§åˆ¶å°: Project Settings â†’ API â†’ anon public key
                    </small>
                </div>
                <button class="btn" id="testBtn">
                    <span id="btnText">ğŸ§ª æµ‹è¯•è¿æ¥</span>
                </button>
                <button class="btn btn-secondary" id="saveBtn" style="margin-left: 10px;">
                    ğŸ’¾ ä¿å­˜é…ç½®
                </button>
            </div>

            <!-- æµ‹è¯•æ—¥å¿— -->
            <div class="section">
                <div class="section-title">
                    <span>ğŸ“</span> æµ‹è¯•æ—¥å¿—
                    <button class="btn" id="clearBtn" style="margin-left: auto; padding: 6px 12px; font-size: 12px;">
                        æ¸…ç©ºæ—¥å¿—
                    </button>
                </div>
                <div class="log-container" id="logContainer">
                    <div class="log-entry log-info">
                        <span class="log-time">[ç³»ç»Ÿ]</span> è°ƒè¯•å·¥å…·å·²å°±ç»ªï¼Œç­‰å¾…æµ‹è¯•...
                    </div>
                </div>
            </div>

            <!-- å¸®åŠ©ä¿¡æ¯ -->
            <div class="section">
                <div class="section-title">
                    <span>ğŸ’¡</span> é…ç½®æŒ‡å—
                </div>
                <div style="color: #4b5563; line-height: 1.8;">
                    <p><strong>æ­¥éª¤ 1:</strong> è®¿é—® <a href="https://supabase.com" target="_blank">supabase.com</a> å¹¶åˆ›å»ºé¡¹ç›®</p>
                    <p><strong>æ­¥éª¤ 2:</strong> åœ¨ SQL Editor ä¸­æ‰§è¡Œ <code>supabase/schema.sql</code> è„šæœ¬</p>
                    <p><strong>æ­¥éª¤ 3:</strong> è¿›å…¥ Project Settings â†’ APIï¼Œå¤åˆ¶ä»¥ä¸‹ä¿¡æ¯ï¼š</p>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li>Project URL: <code>https://xxxxxxxxxxxxx.supabase.co</code></li>
                        <li>anon public: <code>eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...</code></li>
                    </ul>
                    <p style="margin-top: 15px;"><strong>æ­¥éª¤ 4:</strong> ç²˜è´´åˆ°ä¸Šæ–¹è¡¨å•å¹¶æµ‹è¯•è¿æ¥</p>
                </div>
            </div>

            <!-- é”™è¯¯è§£å†³æ–¹æ¡ˆ -->
            <div class="section" id="errorSolution" style="display: none;">
                <div class="section-title">
                    <span>ğŸ”§</span> é”™è¯¯è§£å†³æ–¹æ¡ˆ
                </div>
                <div id="errorContent"></div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script>
        // å…¨å±€å˜é‡
        window.supabaseClient = null;
        window.testResults = {
            urlValid: false,
            keyValid: false,
            sdkLoaded: false,
            clientCreated: false,
            connectionSuccess: false
        };

        // æ—¥å¿—å·¥å…·
        function log(message, type = 'info') {
            const container = document.getElementById('logContainer');
            const time = new Date().toLocaleTimeString('zh-CN');
            const entry = document.createElement('div');
            entry.className = `log-entry log-${type}`;
            entry.innerHTML = `<span class="log-time">[${time}]</span> ${message}`;
            container.appendChild(entry);
            container.scrollTop = container.scrollHeight;
        }

        // æ£€æŸ¥é…ç½®çŠ¶æ€
        function checkConfigStatus() {
            const urlInput = document.getElementById('supabaseUrl').value;
            const urlStatus = document.getElementById('urlStatus');
            if (urlInput && urlInput.includes('supabase.co')) {
                urlStatus.innerHTML = '<span class="status-badge status-success">å·²é…ç½®</span>';
                window.testResults.urlValid = true;
            } else if (urlInput) {
                urlStatus.innerHTML = '<span class="status-badge status-warning">æ ¼å¼é”™è¯¯</span>';
                window.testResults.urlValid = false;
            } else {
                urlStatus.innerHTML = '<span class="status-badge status-error">æœªé…ç½®</span>';
                window.testResults.urlValid = false;
            }

            const keyInput = document.getElementById('supabaseKey').value;
            const keyStatus = document.getElementById('keyStatus');
            if (keyInput && keyInput.length > 50) {
                keyStatus.innerHTML = '<span class="status-badge status-success">å·²é…ç½®</span>';
                window.testResults.keyValid = true;
            } else if (keyInput) {
                keyStatus.innerHTML = '<span class="status-badge status-warning">å¯èƒ½æ— æ•ˆ</span>';
                window.testResults.keyValid = false;
            } else {
                keyStatus.innerHTML = '<span class="status-badge status-error">æœªé…ç½®</span>';
                window.testResults.keyValid = false;
            }

            const sdkStatus = document.getElementById('sdkStatus');
            if (typeof window.supabase !== 'undefined') {
                sdkStatus.innerHTML = '<span class="status-badge status-success">å·²åŠ è½½</span>';
                window.testResults.sdkLoaded = true;
            } else {
                sdkStatus.innerHTML = '<span class="status-badge status-error">æœªåŠ è½½</span>';
                window.testResults.sdkLoaded = false;
            }

            const clientStatus = document.getElementById('clientStatus');
            if (window.supabaseClient) {
                clientStatus.innerHTML = '<span class="status-badge status-success">å·²åˆ›å»º</span>';
                window.testResults.clientCreated = true;
            } else {
                clientStatus.innerHTML = '<span class="status-badge status-warning">æœªåˆ›å»º</span>';
                window.testResults.clientCreated = false;
            }
        }

        // åŠ è½½å·²ä¿å­˜çš„é…ç½®
        function loadSavedConfig() {
            const savedUrl = localStorage.getItem('supabase_debug_url');
            const savedKey = localStorage.getItem('supabase_debug_key');

            if (savedUrl) document.getElementById('supabaseUrl').value = savedUrl;
            if (savedKey) document.getElementById('supabaseKey').value = savedKey;

            checkConfigStatus();

            if (savedUrl && savedKey) {
                log('å·²åŠ è½½æœ¬åœ°ä¿å­˜çš„é…ç½®', 'info');
            }
        }

        // ä¿å­˜é…ç½®
        function saveConfig() {
            const url = document.getElementById('supabaseUrl').value.trim();
            const key = document.getElementById('supabaseKey').value.trim();

            if (!url || !key) {
                log('é…ç½®ä¸å®Œæ•´ï¼Œæ— æ³•ä¿å­˜', 'error');
                showError('è¯·å¡«å†™å®Œæ•´çš„ Project URL å’Œ Anon Key');
                return;
            }

            localStorage.setItem('supabase_debug_url', url);
            localStorage.setItem('supabase_debug_key', key);

            log('é…ç½®å·²ä¿å­˜åˆ°æµè§ˆå™¨æœ¬åœ°å­˜å‚¨', 'success');
            log('æ¥ä¸‹æ¥ä½ å¯ä»¥ï¼š', 'info');
            log('1. ç‚¹å‡»"æµ‹è¯•è¿æ¥"éªŒè¯é…ç½®æ˜¯å¦æ­£ç¡®', 'info');
            log('2. å°†é…ç½®å¤åˆ¶åˆ° supabase-config.js æ–‡ä»¶', 'info');

            const configCode = `/**
 * Supabase é…ç½®
 */
window.SUPABASE_URL = '${url}';
window.SUPABASE_ANON_KEY = '${key}';`;

            showSolution('é…ç½®å·²ä¿å­˜ï¼è¯·å°†ä»¥ä¸‹å†…å®¹å¤åˆ¶åˆ° supabase-config.js æ–‡ä»¶ï¼š', configCode);
        }

        // æ˜¾ç¤ºè§£å†³æ–¹æ¡ˆ
        function showSolution(title, content) {
            const section = document.getElementById('errorSolution');
            const contentEl = document.getElementById('errorContent');
            section.style.display = 'block';
            contentEl.innerHTML = `
                <p style="margin-bottom: 10px; font-weight: 600;">${title}</p>
                <div class="code-block">${content}</div>
            `;
        }

        function showError(message) {
            showSolution('é”™è¯¯', message);
        }

        // æµ‹è¯•è¿æ¥
        async function testConnection() {
            const url = document.getElementById('supabaseUrl').value.trim();
            const key = document.getElementById('supabaseKey').value.trim();
            const btn = document.getElementById('testBtn');
            const btnText = document.getElementById('btnText');

            if (!url) {
                log('è¯·å¡«å†™ Project URL', 'error');
                showError('Project URL ä¸èƒ½ä¸ºç©º');
                return;
            }
            if (!key) {
                log('è¯·å¡«å†™ Anon Key', 'error');
                showError('Anon Key ä¸èƒ½ä¸ºç©º');
                return;
            }
            if (!url.includes('supabase.co')) {
                log('Project URL æ ¼å¼é”™è¯¯', 'error');
                showError('Project URL åº”è¯¥ç±»ä¼¼: https://xxxxxxxxxxxxx.supabase.co');
                return;
            }
            if (key.length < 100) {
                log('Anon Key å¯èƒ½æ— æ•ˆï¼ˆå¤ªçŸ­ï¼‰', 'warning');
                showSolution('è­¦å‘Š', 'Anon Key é€šå¸¸å¾ˆé•¿ï¼ˆ200+ å­—ç¬¦ï¼‰ï¼Œè¯·æ£€æŸ¥æ˜¯å¦å¤åˆ¶å®Œæ•´');
            }

            btn.disabled = true;
            btnText.innerHTML = '<span class="spinner"></span> æµ‹è¯•ä¸­...';

            log('=== å¼€å§‹è¿æ¥æµ‹è¯• ===', 'info');
            log(`URL: ${url}`, 'info');
            log(`Key: ${key.substring(0, 20)}...${key.substring(key.length - 20)}`, 'info');

            try {
                // åˆ›å»º Supabase å®¢æˆ·ç«¯
                log('æ­£åœ¨åˆ›å»º Supabase å®¢æˆ·ç«¯...', 'info');
                if (typeof supabase === 'undefined' || typeof supabase.createClient !== 'function') {
                    log('é”™è¯¯: Supabase SDK æœªæ­£ç¡®åŠ è½½', 'error');
                    btn.disabled = false;
                    btnText.textContent = 'å¼€å§‹æµ‹è¯•';
                    return;
                }
                window.supabaseClient = supabase.createClient(url, key);
                checkConfigStatus();

                // æµ‹è¯• 1: å¥åº·æ£€æŸ¥
                log('æµ‹è¯• 1/3: å‘èµ·å¥åº·æ£€æŸ¥è¯·æ±‚...', 'info');
                const healthStart = Date.now();
                const healthResponse = await fetch(`${url}/rest/v1/`, {
                    method: 'HEAD',
                    headers: {
                        'apikey': key,
                        'Authorization': `Bearer ${key}`
                    }
                });
                const healthTime = Date.now() - healthStart;

                if (healthResponse.ok) {
                    log(`âœ“ å¥åº·æ£€æŸ¥é€šè¿‡ (${healthTime}ms)`, 'success');
                } else {
                    log(`âœ— å¥åº·æ£€æŸ¥å¤±è´¥ (${healthResponse.status})`, 'error');
                    throw new Error(`å¥åº·æ£€æŸ¥å¤±è´¥: ${healthResponse.status}`);
                }

                // æµ‹è¯• 2: æ£€æŸ¥è¡¨æ˜¯å¦å­˜åœ¨
                log('æµ‹è¯• 2/3: æ£€æŸ¥æ•°æ®åº“è¡¨...', 'info');
                const tablesResponse = await fetch(`${url}/rest/v1/accounts?limit=1`, {
                    method: 'GET',
                    headers: {
                        'apikey': key,
                        'Authorization': `Bearer ${key}`,
                        'Accept': 'application/json'
                    }
                });

                if (tablesResponse.status === 406) {
                    log('âœ“ æ•°æ®åº“è¡¨å­˜åœ¨ï¼ˆaccounts è¡¨å¯è®¿é—®ï¼‰', 'success');
                } else if (tablesResponse.status === 404) {
                    log('âš  accounts è¡¨ä¸å­˜åœ¨ï¼Œéœ€è¦æ‰§è¡Œ schema.sql', 'warning');
                    showSolution(
                        'éœ€è¦åˆ›å»ºæ•°æ®åº“è¡¨',
                        'è¯·åœ¨ Supabase æ§åˆ¶å°çš„ SQL Editor ä¸­æ‰§è¡Œ supabase/schema.sql æ–‡ä»¶ä¸­çš„ SQL è„šæœ¬ã€‚'
                    );
                } else if (tablesResponse.status === 401) {
                    log('âœ— API Key æ— æ•ˆæˆ–æœªæˆæƒ', 'error');
                    throw new Error('API Key æ— æ•ˆï¼Œè¯·æ£€æŸ¥ Anon Public Key æ˜¯å¦æ­£ç¡®');
                } else {
                    log(`âœ“ è¡¨æ£€æŸ¥é€šè¿‡ (${tablesResponse.status})`, 'success');
                }

                // æµ‹è¯• 3: å°è¯•æŸ¥è¯¢æ•°æ®
                log('æµ‹è¯• 3/3: æŸ¥è¯¢æ•°æ®...', 'info');
                const { data, error } = await window.supabaseClient
                    .from('accounts')
                    .select('count')
                    .limit(1);

                if (error) {
                    throw new Error(`æŸ¥è¯¢å¤±è´¥: ${error.message}`);
                }

                log('âœ“ æ•°æ®æŸ¥è¯¢æˆåŠŸ', 'success');
                log(`å½“å‰ accounts è¡¨è®°å½•æ•°: ${data ? data.length : 0}`, 'info');

                log('', 'info');
                log('========================================', 'success');
                log('ğŸ‰ æ‰€æœ‰æµ‹è¯•é€šè¿‡ï¼è¿æ¥é…ç½®æ­£ç¡®ï¼', 'success');
                log('========================================', 'success');

                window.testResults.connectionSuccess = true;

                showSolution(
                    'âœ… é…ç½®æˆåŠŸï¼',
                    `ä½ çš„ Supabase é…ç½®å®Œå…¨æ­£ç¡®ï¼

æ¥ä¸‹æ¥ï¼š
1. ç‚¹å‡»"ä¿å­˜é…ç½®"æŒ‰é’®
2. å°†ç”Ÿæˆçš„ä»£ç å¤åˆ¶åˆ° supabase-config.js
3. åˆ·æ–°ä¸»é¡µé¢å³å¯ä½¿ç”¨äº‘ç«¯æ¨¡å¼

å½“å‰é…ç½®ï¼š
â€¢ URL: ${url}
â€¢ çŠ¶æ€: å·²è¿æ¥
â€¢ è¡¨ç»“æ„: å·²éªŒè¯`
                );

            } catch (error) {
                log(`âœ— æµ‹è¯•å¤±è´¥: ${error.message}`, 'error');
                log('', 'info');

                let solution = '';
                if (error.message.includes('fetch') || error.message.includes('network')) {
                    solution = 'ç½‘ç»œé”™è¯¯ï¼šè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥æˆ– URL æ˜¯å¦æ­£ç¡®';
                } else if (error.message.includes('401') || error.message.includes('JWT')) {
                    solution = 'è®¤è¯å¤±è´¥ï¼šAPI Key ä¸æ­£ç¡®ï¼Œè¯·é‡æ–°ä»æ§åˆ¶å°å¤åˆ¶ Anon Public Key';
                } else if (error.message.includes('CORS')) {
                    solution = 'CORS é”™è¯¯ï¼šéœ€è¦åœ¨ Supabase æ§åˆ¶å°é…ç½®å…è®¸çš„åŸŸå\n\næ­¥éª¤ï¼š\n1. è¿›å…¥ Authentication â†’ URL Configuration\n2. æ·»åŠ ä½ çš„åŸŸåæˆ– localhost:3000';
                } else {
                    solution = `æœªçŸ¥é”™è¯¯ï¼š${error.message}\n\nè¯·æ£€æŸ¥ï¼š\n1. URL å’Œ Key æ˜¯å¦æ­£ç¡®å¤åˆ¶\n2. Supabase é¡¹ç›®æ˜¯å¦æ­£å¸¸è¿è¡Œ\n3. æ˜¯å¦å·²æ‰§è¡Œ schema.sql åˆ›å»ºè¡¨`;
                }

                showError(solution);
                window.testResults.connectionSuccess = false;
            } finally {
                btn.disabled = false;
                btnText.innerHTML = 'ğŸ§ª æµ‹è¯•è¿æ¥';
                checkConfigStatus();
            }
        }

        // æ¸…ç©ºæ—¥å¿—
        function clearLogs() {
            document.getElementById('logContainer').innerHTML = '';
            log('æ—¥å¿—å·²æ¸…ç©º', 'info');
        }

        // é¡µé¢åŠ è½½æ—¶æ‰§è¡Œ
        document.addEventListener('DOMContentLoaded', () => {
            loadSavedConfig();

            // ç»‘å®šäº‹ä»¶ç›‘å¬å™¨
            document.getElementById('testBtn').addEventListener('click', testConnection);
            document.getElementById('saveBtn').addEventListener('click', saveConfig);
            document.getElementById('clearBtn').addEventListener('click', clearLogs);
            document.getElementById('supabaseUrl').addEventListener('input', checkConfigStatus);
            document.getElementById('supabaseKey').addEventListener('input', checkConfigStatus);

            log('è°ƒè¯•å·¥å…·åˆå§‹åŒ–å®Œæˆ', 'success');
            log('è¯·å¡«å†™ Supabase é…ç½®ä¿¡æ¯ï¼Œç„¶åç‚¹å‡»"æµ‹è¯•è¿æ¥"', 'info');
        });
    </script>
</body>
</html>
